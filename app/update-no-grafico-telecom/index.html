<!DOCTYPE html>
<html lang="pt-br">

<head>
    <title>Girando em colunas</title>
    <meta charset="UTF-8">
    <script src="../d3/d3.v3.min.js"></script>
    <style>
        .atendidas {
            fill: #22ff00;
        }
        
        .naoatendidas {
            fill: #ffe700;
        }
        
        .falhas {
            fill: #ff0000;
        }
        
        .ocupadas {
            fill: #ff6700;
        }
        
        .congestionada {
            fill: #990000;
        }
        
        .blackList {
            fill: #7f7f7f;
            ;
        }
        
        .axis text {
            font: 10px sans-serif;
        }
        
        .axis path,
        .axis line {
            fill: none;
            stroke: #000;
            shape-rendering: crispEdges;
        }
        
        .x.axis path {
            display: none;
        }
    </style>
</head>

<body>
    <button type="button" id="atualiza">Atualiza o gr√°fico</button>
    <div id="operadoras-horizontal"></div>



    <script src="data.js"></script>
    <script src="telecom-operadoras.js"></script>
    <script>
        document.querySelector('#atualiza').addEventListener('click', atualizaGrafico)
        fluxoOperadorasHorizontal(fluxoOperadoras, eixoX);


        function atualizaGrafico() {

            d3.selectAll(".layer").remove();

            fluxoOperadorasHorizontal([{
                    nome: '13',
                    falhas: 10,
                    atendidas: 50,
                    naoatendidas: 35,
                    ocupadas: 50,
                    congestionada: 0,
                    blackList: 0
                }, {
                    nome: 'GVT',
                    falhas: 5,
                    atendidas: 35,
                    naoatendidas: 30,
                    ocupadas: 25,
                    congestionada: 8,
                    blackList: 9
                }
                ],  [
                'falhas',
                'atendidas',
                'naoatendidas',
                'ocupadas',
                'congestionada',
                'blackList',
            ] )
            return;
            

        }
    </script>

</body>

</html>